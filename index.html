<html>
  <head>
    <link rel="stylesheet" type="text/css" href="image.css">
    <script src="image.js"></script>
    <script>
      window.onload = function () {
        var imageParentEl = document.getElementById('imageDiv');
        window.image = new Image(221, 381, imageParentEl);

        var curColIdx = 0
        addBarFormEl = document.getElementById('addBarForm');
        addBarFormEl.onsubmit = function () {
          var name = addBarFormEl.figureName.value;
          var startYr = parseInt(addBarFormEl.startYr.value);
          var endYrStr = addBarFormEl.endYr.value;
          var endYr = null;
          if (endYrStr != "") {
            endYr = parseInt(endYrStr);
          }
          window.image.addBarEl('el' + curColIdx, name, startYr, endYr, 'lightblue', curColIdx);
          curColIdx++;
        };
      };
    </script>
  </head>
  <body>
    <div id="imageDiv"></div>
    <br />
    <form id="addBarForm" action="javascript:void(0);">
      Name: <input id="figureName" type="text" />
      <br />
      Start Year: <input id="startYr" type="text" />
      <br />
      End Year: <input id="endYr" type="text" />
      <br />
      <input type="submit" value="Add Bar" />
    </form>
  </body>
</html>
